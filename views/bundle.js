/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./views/client/Client.ts":
/*!********************************!*\
  !*** ./views/client/Client.ts ***!
  \********************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nconst Connection_1 = __importDefault(__webpack_require__(/*! ./Connection/Connection */ \"./views/client/Connection/Connection.ts\"));\r\nconst Logger_1 = __importDefault(__webpack_require__(/*! ./Utils/Logger */ \"./views/client/Utils/Logger.ts\"));\r\nconst ElementManager_1 = __importDefault(__webpack_require__(/*! ./Rendering/ElementManager */ \"./views/client/Rendering/ElementManager.ts\"));\r\nconst CanvasManager_1 = __importDefault(__webpack_require__(/*! ./Rendering/CanvasManager */ \"./views/client/Rendering/CanvasManager.ts\"));\r\nconst Player_1 = __importDefault(__webpack_require__(/*! ./Entity/Player */ \"./views/client/Entity/Player.ts\"));\r\n/** A representation of the client currently on the site. */\r\nclass Client {\r\n    constructor() {\r\n        /** The logging system in the IOStream. */\r\n        this.logger = Logger_1.default;\r\n        /** The player information of the client. */\r\n        this.player = new Player_1.default();\r\n        /** The connection between the client and the server. */\r\n        this.connection = new Connection_1.default(this, \"ws://localhost:8080\");\r\n        /** The DOM element manager. */\r\n        this.elements = new ElementManager_1.default(this);\r\n        /** The canvas on which the client draws on. */\r\n        this.canvas = new CanvasManager_1.default(this);\r\n    }\r\n}\r\nexports[\"default\"] = Client;\r\n;\r\n\n\n//# sourceURL=webpack://valiant.io/./views/client/Client.ts?");

/***/ }),

/***/ "./views/client/Connection/Connection.ts":
/*!***********************************************!*\
  !*** ./views/client/Connection/Connection.ts ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nconst SwiftStream_1 = __importDefault(__webpack_require__(/*! ./SwiftStream */ \"./views/client/Connection/SwiftStream.ts\"));\r\nconst Enums_1 = __webpack_require__(/*! ../Const/Enums */ \"./views/client/Const/Enums.ts\");\r\nconst MessageHandler_1 = __importDefault(__webpack_require__(/*! ./MessageHandler */ \"./views/client/Connection/MessageHandler.ts\"));\r\n/** A representation of the WebSocket connection between the client and the server. */\r\nclass Connection extends EventTarget {\r\n    constructor(client, url) {\r\n        super();\r\n        /** The amount of retries attempted. */\r\n        this.retries = 0;\r\n        /** The binary encoder/decoder for the connection. */\r\n        this.SwiftStream = new SwiftStream_1.default();\r\n        /** The handler for incoming messages. */\r\n        this.MessageHandler = new MessageHandler_1.default(this);\r\n        this.client = client;\r\n        this.socket = new WebSocket(url);\r\n        this.socket.binaryType = \"arraybuffer\";\r\n        this.handle();\r\n    }\r\n    migrate(url) {\r\n        if (++this.retries > 3)\r\n            return this.client.logger.err(\"[WS]: Threshold for retries has been exceeded. Please reload.\");\r\n        this.socket.close(4999);\r\n        this.socket = new WebSocket(url);\r\n        this.socket.binaryType = \"arraybuffer\";\r\n        this.handle();\r\n    }\r\n    send(header, data) {\r\n        this.SwiftStream.WriteI8(header);\r\n        switch (header) {\r\n            case Enums_1.ServerBound.Spawn: {\r\n                this.socket.send(this.SwiftStream\r\n                    .WriteCString(data.name)\r\n                    .WriteI8(this.client.player.character)\r\n                    .WriteI8(this.client.player.ability)\r\n                    .Write());\r\n                break;\r\n            }\r\n            case Enums_1.ServerBound.Movement: {\r\n                this.socket.send(this.SwiftStream.WriteI8(data.movement).Write());\r\n                break;\r\n            }\r\n            case Enums_1.ServerBound.Angle: {\r\n                this.socket.send(this.SwiftStream.WriteI8(this.client.player.angle).Write());\r\n                break;\r\n            }\r\n            case Enums_1.ServerBound.Attack: {\r\n                this.socket.send(this.SwiftStream.WriteI8(data.isAtk).Write());\r\n                break;\r\n            }\r\n            default: {\r\n                this.SwiftStream.Write();\r\n                throw new Error(\"Could not find header.\");\r\n            }\r\n        }\r\n    }\r\n    handle() {\r\n        this.socket.addEventListener(\"open\", () => {\r\n            this.client.logger.success(\"[WS]: Connected to server.\");\r\n        });\r\n        this.socket.addEventListener(\"error\", () => {\r\n            this.client.logger.err(\"[WS]: Connection to server has failed.\");\r\n            this.migrate(this.socket.url);\r\n        });\r\n        this.socket.addEventListener(\"close\", event => {\r\n            if (event.code === 4999)\r\n                return; // Internal migration code.\r\n            console.log(Enums_1.CloseEvents[event.code] || Enums_1.CloseEvents.Unknown);\r\n        });\r\n        this.socket.addEventListener(\"message\", ({ data }) => {\r\n            this.SwiftStream.Set(data = new Uint8Array(data));\r\n            this.parse();\r\n        });\r\n    }\r\n    parse() {\r\n        const SwiftStream = this.SwiftStream;\r\n        const header = SwiftStream.ReadI8();\r\n        switch (header) {\r\n            case Enums_1.ClientBound.Update: return this.MessageHandler.Update();\r\n        }\r\n        this.SwiftStream.Clear();\r\n    }\r\n}\r\nexports[\"default\"] = Connection;\r\n\n\n//# sourceURL=webpack://valiant.io/./views/client/Connection/Connection.ts?");

/***/ }),

/***/ "./views/client/Connection/MessageHandler.ts":
/*!***************************************************!*\
  !*** ./views/client/Connection/MessageHandler.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nconst Enums_1 = __webpack_require__(/*! ../Const/Enums */ \"./views/client/Const/Enums.ts\");\r\n/** A handler for all incoming messages. */\r\nclass MessageHandler {\r\n    constructor(connection) {\r\n        this.connection = connection;\r\n    }\r\n    // Woah, that's a big packet!\r\n    Update() {\r\n        const SwiftStream = this.connection.SwiftStream;\r\n        const type = SwiftStream.ReadI8();\r\n        if (type === 0x00) { // update player\r\n            let len = SwiftStream.ReadI8();\r\n            for (; len--;) {\r\n                const field = SwiftStream.ReadI8();\r\n                switch (field) {\r\n                    case Enums_1.Fields.ID: {\r\n                        const id = SwiftStream.ReadI8();\r\n                        this.connection.client.player.id = id;\r\n                        this.connection.client.elements.homescreen.homescreen.style.display = \"none\";\r\n                        this.connection.client.canvas.phase = Enums_1.Phases.Arena;\r\n                        this.connection.client.elements.arena.stats.style.display = \"block\";\r\n                        this.connection.client.elements.arena.utils.style.display = \"block\";\r\n                        this.connection.client.canvas.mapCanvas.style.display = \"block\";\r\n                        break;\r\n                    }\r\n                    case Enums_1.Fields.Position: {\r\n                        const x = SwiftStream.ReadFloat32();\r\n                        const y = SwiftStream.ReadFloat32();\r\n                        this.connection.client.player.position.old = this.connection.client.player.position.new;\r\n                        this.connection.client.player.position.new = { x, y };\r\n                        break;\r\n                    }\r\n                    case Enums_1.Fields.Attacking:\r\n                        {\r\n                            break;\r\n                        }\r\n                        ;\r\n                    case Enums_1.Fields.Weapons: {\r\n                        const weapon = SwiftStream.ReadI8();\r\n                        this.connection.client.player.weapon = weapon;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        const surroundings = type === 0x00 ? SwiftStream.ReadI8() : type;\r\n        if (surroundings === 0x01) {\r\n            let len = SwiftStream.ReadI8();\r\n            for (; len--;) {\r\n                const entity = SwiftStream.ReadI8();\r\n                switch (entity) {\r\n                    case Enums_1.Entities.Box: {\r\n                        const x = SwiftStream.ReadFloat32();\r\n                        const y = SwiftStream.ReadFloat32();\r\n                        console.log(\"Found a box at\", x, y);\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\nexports[\"default\"] = MessageHandler;\r\n\n\n//# sourceURL=webpack://valiant.io/./views/client/Connection/MessageHandler.ts?");

/***/ }),

/***/ "./views/client/Connection/SwiftStream.ts":
/*!************************************************!*\
  !*** ./views/client/Connection/SwiftStream.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\n/** BUFFERS: Used to convert between different byte lengths. */\r\nconst conversion = new ArrayBuffer(4);\r\nconst u8 = new Uint8Array(conversion);\r\nconst f32 = new Float32Array(conversion);\r\n/** SwiftStream, an efficient binary protocol manager written by Altanis. */\r\nclass SwiftStream {\r\n    constructor() {\r\n        /** The buffer SwiftStream is using. */\r\n        this.buffer = new Uint8Array(4096);\r\n        /** The position at which the buffer is being read. */\r\n        this.at = 0;\r\n        /** UTF8 Decoder. */\r\n        this.TextDecoder = new TextDecoder();\r\n        /** UTF8 Encoder. */\r\n        this.TextEncoder = new TextEncoder();\r\n    }\r\n    Set(buffer) {\r\n        this.buffer = buffer;\r\n        this.at = 0;\r\n    }\r\n    Clear() {\r\n        this.buffer = new Uint8Array(4096);\r\n        this.at = 0;\r\n    }\r\n    /** READER */\r\n    ReadI8() {\r\n        return this.buffer[this.at++];\r\n    }\r\n    ReadFloat32() {\r\n        u8.set(this.buffer.slice(this.at, this.at += 4));\r\n        return f32[0];\r\n    }\r\n    ReadUTF8String() {\r\n        const start = this.at;\r\n        while (this.buffer[this.at++])\r\n            ;\r\n        return this.TextDecoder.decode(this.buffer.slice(start, this.at - 1));\r\n    }\r\n    /** WRITER */\r\n    WriteI8(value) {\r\n        this.buffer[this.at++] = value;\r\n        return this;\r\n    }\r\n    WriteFloat32(value) {\r\n        f32[0] = value;\r\n        this.buffer.set(u8, this.at);\r\n        this.at += 4;\r\n        return this;\r\n    }\r\n    WriteCString(value) {\r\n        this.buffer.set(this.TextEncoder.encode(value), this.at);\r\n        this.at += value.length;\r\n        this.buffer[this.at++] = 0;\r\n        return this;\r\n    }\r\n    Write() {\r\n        const result = this.buffer.subarray(0, this.at);\r\n        this.Clear();\r\n        return result;\r\n    }\r\n}\r\nexports[\"default\"] = SwiftStream;\r\n\n\n//# sourceURL=webpack://valiant.io/./views/client/Connection/SwiftStream.ts?");

/***/ }),

/***/ "./views/client/Const/Definitions.ts":
/*!*******************************************!*\
  !*** ./views/client/Const/Definitions.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.Weapons = exports.Abilities = exports.Characters = void 0;\r\n/** Characters and all their necessary clientside data. */\r\nconst Characters = [\r\n    /** Knight */\r\n    {\r\n        name: \"Knight\",\r\n        stats: {\r\n            health: 7,\r\n            armor: 6,\r\n            energy: 250\r\n        },\r\n        abilities: [0, 1],\r\n        src: \"Knight.gif\"\r\n    },\r\n    {\r\n        name: \"Priest\",\r\n        stats: {},\r\n        abilities: [1],\r\n        src: \"Priest.gif\"\r\n    }\r\n];\r\nexports.Characters = Characters;\r\n/** Abilities, a specific property of characters. */\r\nconst Abilities = [\r\n    /** Dual Wield */\r\n    {\r\n        name: \"Dual Wield\",\r\n        description: \"Attack with double the power.\",\r\n        src: \"dual_wield.png\",\r\n    },\r\n    /** Charge */\r\n    {\r\n        name: \"Charge\",\r\n        description: \"Bash into a foe with your shield.\",\r\n        src: \"charge.png\",\r\n    }\r\n];\r\nexports.Abilities = Abilities;\r\n/** Weapons, objects used to attack. */\r\nconst Weapons = [\r\n    /** Rusty Blade */\r\n    {\r\n        name: \"Rusty Blade\",\r\n        type: \"melee\",\r\n        rarity: \"common\",\r\n        damage: 10,\r\n        range: Math.PI / 4,\r\n        speed: 30,\r\n        src: \"rusty_blade.png\",\r\n    }\r\n];\r\nexports.Weapons = Weapons;\r\n\n\n//# sourceURL=webpack://valiant.io/./views/client/Const/Definitions.ts?");

/***/ }),

/***/ "./views/client/Const/Enums.ts":
/*!*************************************!*\
  !*** ./views/client/Const/Enums.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.Movement = exports.Entities = exports.Fields = exports.ServerBound = exports.ClientBound = exports.Phases = exports.CloseEvents = void 0;\r\n/** Representation of possible reasons the connection was closed. */\r\nvar CloseEvents;\r\n(function (CloseEvents) {\r\n    CloseEvents[CloseEvents[\"TooManyConnections\"] = 3000] = \"TooManyConnections\";\r\n    CloseEvents[CloseEvents[\"ServerFilled\"] = 3001] = \"ServerFilled\";\r\n    CloseEvents[CloseEvents[\"InvalidProtocol\"] = 3002] = \"InvalidProtocol\";\r\n    CloseEvents[CloseEvents[\"Banned\"] = 3003] = \"Banned\";\r\n    CloseEvents[CloseEvents[\"Unknown\"] = 3006] = \"Unknown\";\r\n})(CloseEvents = exports.CloseEvents || (exports.CloseEvents = {}));\r\n;\r\n/** Representation of the phase canvas is rendering. */\r\nvar Phases;\r\n(function (Phases) {\r\n    Phases[Phases[\"Homescreen\"] = 0] = \"Homescreen\";\r\n    Phases[Phases[\"Arena\"] = 1] = \"Arena\";\r\n})(Phases = exports.Phases || (exports.Phases = {}));\r\n;\r\nvar ClientBound;\r\n(function (ClientBound) {\r\n    /** Tells the client of it's surroundings. */\r\n    ClientBound[ClientBound[\"Update\"] = 0] = \"Update\";\r\n})(ClientBound = exports.ClientBound || (exports.ClientBound = {}));\r\n;\r\nvar ServerBound;\r\n(function (ServerBound) {\r\n    /** Client tells the server they want to spawn. [string(name), i8(characterIdx), i8(abilityIdx)] */\r\n    ServerBound[ServerBound[\"Spawn\"] = 0] = \"Spawn\";\r\n    /** Client tells the server they want to move. [i8(Movement)] */\r\n    ServerBound[ServerBound[\"Movement\"] = 1] = \"Movement\";\r\n    /** The angle the player is facing, in radians. [f32(angle)] */\r\n    ServerBound[ServerBound[\"Angle\"] = 2] = \"Angle\";\r\n    /** Client tells the server they want to attack. */\r\n    ServerBound[ServerBound[\"Attack\"] = 3] = \"Attack\";\r\n    /** Client cheats (when given developer code). */\r\n    ServerBound[ServerBound[\"Cheats\"] = 255] = \"Cheats\";\r\n})(ServerBound = exports.ServerBound || (exports.ServerBound = {}));\r\n;\r\n/** Fields of the Update packet. */\r\nvar Fields;\r\n(function (Fields) {\r\n    /** The ID of the entity. */\r\n    Fields[Fields[\"ID\"] = 0] = \"ID\";\r\n    /** The position of the entity. */\r\n    Fields[Fields[\"Position\"] = 1] = \"Position\";\r\n    /** If the entity is attacking. */\r\n    Fields[Fields[\"Attacking\"] = 2] = \"Attacking\";\r\n    /** The weapon(s) of the player. */\r\n    Fields[Fields[\"Weapons\"] = 3] = \"Weapons\";\r\n})(Fields = exports.Fields || (exports.Fields = {}));\r\n;\r\n/** Object types. */\r\nvar Entities;\r\n(function (Entities) {\r\n    Entities[Entities[\"Player\"] = 0] = \"Player\";\r\n    Entities[Entities[\"Box\"] = 1] = \"Box\";\r\n})(Entities = exports.Entities || (exports.Entities = {}));\r\n/** Movement codes. */\r\nvar Movement;\r\n(function (Movement) {\r\n    Movement[Movement[\"Up\"] = 1] = \"Up\";\r\n    Movement[Movement[\"Right\"] = 2] = \"Right\";\r\n    Movement[Movement[\"Down\"] = 3] = \"Down\";\r\n    Movement[Movement[\"Left\"] = 4] = \"Left\";\r\n})(Movement = exports.Movement || (exports.Movement = {}));\r\n;\r\n\n\n//# sourceURL=webpack://valiant.io/./views/client/Const/Enums.ts?");

/***/ }),

/***/ "./views/client/Entity/Player.ts":
/*!***************************************!*\
  !*** ./views/client/Entity/Player.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\r\n// import Vector from \"../Utils/Vector\";\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\n/** A representation of a Player entity. */\r\nclass Player {\r\n    constructor() {\r\n        /** The character index of the player. */\r\n        this.character = 0;\r\n        /** The ability index of the player. */\r\n        this.ability = 0;\r\n        /** The weapon the player is holding. */\r\n        this.weapon = 0;\r\n        /** The ID of the player. */\r\n        this.id = 0;\r\n        /** The position of the player. */\r\n        this.position = {\r\n            /** Position from one frame ago. */\r\n            old: { x: 0, y: 0 },\r\n            /** Position at current frame. */\r\n            new: { x: 0, y: 0 }\r\n        };\r\n        /** The angle of the player. */\r\n        this.angle = 0;\r\n        /** Renders the player on the canvas. */\r\n    }\r\n}\r\nexports[\"default\"] = Player;\r\n\n\n//# sourceURL=webpack://valiant.io/./views/client/Entity/Player.ts?");

/***/ }),

/***/ "./views/client/Index.ts":
/*!*******************************!*\
  !*** ./views/client/Index.ts ***!
  \*******************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nconst Client_1 = __importDefault(__webpack_require__(/*! ./Client */ \"./views/client/Client.ts\"));\r\nconst client = new Client_1.default();\r\n\n\n//# sourceURL=webpack://valiant.io/./views/client/Index.ts?");

/***/ }),

/***/ "./views/client/Rendering/CanvasManager.ts":
/*!*************************************************!*\
  !*** ./views/client/Rendering/CanvasManager.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nconst Enums_1 = __webpack_require__(/*! ../Const/Enums */ \"./views/client/Const/Enums.ts\");\r\n/** Constant for 360 degrees in radians. */\r\nconst TAU = Math.PI * 2;\r\n/** Psuedorandom number in between two ranges. */\r\nconst randomRange = (min, max) => Math.random() * (max - min) + min;\r\n/** The canvas where nearly all visual representation is drawn. */\r\nclass CanvasManager {\r\n    constructor(client) {\r\n        /** The canvas element. */\r\n        /** @ts-ignore */\r\n        this.canvas = document.getElementById(\"canvas\");\r\n        /** The context to draw on. */\r\n        this.ctx = this.canvas.getContext(\"2d\");\r\n        /** MAP CANVAS */\r\n        /** The canvas which represents the minimap. */\r\n        /** @ts-ignore */\r\n        this.mapCanvas = document.getElementById(\"mapDisplay\");\r\n        /** The context to draw on for the minimap. */\r\n        this.mapCtx = this.mapCanvas.getContext(\"2d\");\r\n        /** The phase in which rendering is occuring. */\r\n        this.phase = Enums_1.Phases.Homescreen;\r\n        /** The difference in between two frame renders. */\r\n        this.delta = 0;\r\n        /** The variable which keeps track of the last update. */\r\n        this.lastUpdate = 0;\r\n        /** The object which tracks FPS. */\r\n        this.FPS = {\r\n            fps: [0]\r\n        };\r\n        /** The stars on the homescreen. */\r\n        this.stars = {\r\n            count: 200,\r\n            stars: [],\r\n            radiusIncrement: 0.1\r\n        };\r\n        this.client = client;\r\n    }\r\n    render() {\r\n        this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n        this.mapCtx.clearRect(0, 0, this.mapCanvas.width, this.mapCanvas.height);\r\n        this.delta = Date.now() - this.lastUpdate;\r\n        this.lastUpdate = Date.now();\r\n        switch (this.phase) {\r\n            case Enums_1.Phases.Homescreen:\r\n                this.Homescreen();\r\n                break;\r\n            case Enums_1.Phases.Arena:\r\n                this.Arena(this.delta);\r\n                break;\r\n        }\r\n    }\r\n    /** UTILITIES */\r\n    drawCircle(x, y, r, ctx = this.ctx) {\r\n        ctx.beginPath();\r\n        ctx.arc(x, y, r, 0, TAU);\r\n        ctx.fill();\r\n    }\r\n    /** Renders the homescreen background (with pulsating stars). */\r\n    Homescreen() {\r\n        this.ctx.fillStyle = \"#000000\";\r\n        this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\r\n        this.ctx.fillStyle = \"#FFFFFF\";\r\n        for (let i = this.stars.count - this.stars.stars.length; --i;) {\r\n            this.stars.stars.push({\r\n                x: randomRange(0, this.canvas.width),\r\n                y: randomRange(0, this.canvas.width),\r\n                radius: randomRange(0.1, 1.5),\r\n            });\r\n        }\r\n        for (let i = this.stars.stars.length; i--;) {\r\n            const star = this.stars.stars[i];\r\n            this.drawCircle(star.x, star.y, star.radius);\r\n            star.radius += this.stars.radiusIncrement;\r\n            if (star.radius >= 3)\r\n                this.stars.stars.splice(i, 1);\r\n        }\r\n    }\r\n    /** Renders the actual arena when spawned in. */\r\n    Arena(delta) {\r\n        if (this.FPS.fps.length > 10)\r\n            this.FPS.fps.shift();\r\n        this.FPS.fps.push(1000 / delta);\r\n        this.client.elements.arena.fps.innerText = (this.FPS.fps.reduce((a, b) => a + b) / this.FPS.fps.length).toFixed(1) + '  FPS';\r\n    }\r\n}\r\nexports[\"default\"] = CanvasManager;\r\n\n\n//# sourceURL=webpack://valiant.io/./views/client/Rendering/CanvasManager.ts?");

/***/ }),

/***/ "./views/client/Rendering/ElementManager.ts":
/*!**************************************************!*\
  !*** ./views/client/Rendering/ElementManager.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nconst Definitions_1 = __webpack_require__(/*! ../Const/Definitions */ \"./views/client/Const/Definitions.ts\");\r\nconst Enums_1 = __webpack_require__(/*! ../Const/Enums */ \"./views/client/Const/Enums.ts\");\r\n/** Manages DOM elements. */\r\nclass ElementManager {\r\n    constructor(client) {\r\n        /** Interactive elements on the homescreen. */\r\n        this.homescreen = {\r\n            /** The div which contains all elements of the homescreen. */\r\n            homescreen: document.getElementById(\"homescreen\"),\r\n            /** The button which spawns the player. */\r\n            play: document.getElementById(\"play\"),\r\n            /** The input where the name is held. */\r\n            // none yet\r\n            /** The div which holds all 3 gamemode buttons. */\r\n            gamemodes: document.getElementById(\"gamemodes\"),\r\n            /** The button to trigger the settings modal. */\r\n            settings: document.getElementById(\"settings\"),\r\n            /** The screen which displays when the client has disconnected. */\r\n            disconnect: document.getElementById(\"disconnect\"),\r\n            /** The div with the character selector. */\r\n            characterSelector: {\r\n                /** The left arrow for the character. */\r\n                arrowLeft: document.getElementById(\"arrow-left\"),\r\n                /** The right arrow for the character. */\r\n                arrowRight: document.getElementById(\"arrow-right\"),\r\n                /** The name of the character. */\r\n                characterName: document.getElementById(\"character-name\"),\r\n                /** The sprite of the character. */\r\n                characterSprite: document.getElementById(\"character-sprite\"),\r\n                /** The name of the ability. */\r\n                abilityName: document.getElementById(\"ability-name\"),\r\n                /** The description of the ability. */\r\n                abilityDesc: document.getElementById(\"ability-desc\"),\r\n                /** The selector icons of the abilities. */\r\n                abilitySelector: document.getElementById(\"ability\")\r\n            }\r\n        };\r\n        /** Toggleable settings. */\r\n        this.settings = {\r\n            /** The div which contains toggleable settings. */\r\n            settings: document.getElementById(\"settingsModal\"),\r\n        };\r\n        /** Elements which display while playing. */\r\n        this.arena = {\r\n            /** The div which contains every stat of the player. */\r\n            stats: document.getElementById(\"stats\"),\r\n            /** The health bar in the stats div. */\r\n            health: document.getElementById(\"health\"),\r\n            /** The armor bar in the stats div. */\r\n            armor: document.getElementById(\"armor\"),\r\n            /** The energy bar in the stats div. */\r\n            energy: document.getElementById(\"energy\"),\r\n            /** The utils of the player, such as FPS/MS/Minimap. */\r\n            utils: document.getElementById(\"utils\"),\r\n            /** The name of the game. */\r\n            gameName: document.getElementById(\"gameName\"),\r\n            /** The FPS of the client. */\r\n            fps: document.getElementById(\"fps\"),\r\n            /** The ping of the client. */\r\n            ping: document.getElementById(\"ping\"),\r\n        };\r\n        /** The canvas to draw on. */\r\n        /** @ts-ignore */\r\n        this.canvas = document.getElementById(\"canvas\");\r\n        this.client = client;\r\n        this.setup();\r\n        this.loop();\r\n    }\r\n    setup() {\r\n        /** Add resize handlers for the canvas. */\r\n        window.addEventListener(\"resize\", () => {\r\n            this.canvas.height = window.innerHeight * window.devicePixelRatio;\r\n            this.canvas.width = window.innerWidth * window.devicePixelRatio;\r\n        });\r\n        window.dispatchEvent(new Event(\"resize\"));\r\n        /** Add stat texts. */\r\n        document.querySelectorAll(\".progress-bar\").forEach((p, i) => {\r\n            let name = \"\";\r\n            switch (i) {\r\n                case 0:\r\n                    name = \"health\";\r\n                    break;\r\n                case 1:\r\n                    name = \"armor\";\r\n                    break;\r\n                case 2:\r\n                    name = \"energy\";\r\n                    break;\r\n            }\r\n            name += \"Text\";\r\n            /** @ts-ignore */\r\n            this.arena[name] = p.children[1];\r\n        });\r\n        /** Create pointers for abilities and characters. */\r\n        console.log(this.homescreen.characterSelector.arrowRight);\r\n        this.homescreen.characterSelector.arrowLeft.addEventListener(\"click\", () => {\r\n            this.client.player.character = (this.client.player.character - 1 + Definitions_1.Characters.length) % Definitions_1.Characters.length;\r\n            this.client.player.ability = Definitions_1.Characters[this.client.player.character].abilities[0];\r\n        });\r\n        this.homescreen.characterSelector.arrowRight.addEventListener(\"click\", () => {\r\n            this.client.player.character = (this.client.player.character + 1) % Definitions_1.Characters.length;\r\n            this.client.player.ability = Definitions_1.Characters[this.client.player.character].abilities[0];\r\n        });\r\n        /** Send play signal to server when Play is pressed. */\r\n        this.homescreen.play.addEventListener(\"click\", () => {\r\n            this.client.connection.send(Enums_1.ServerBound.Spawn, {\r\n                name: \"Altanis\"\r\n            });\r\n            const { health, armor, energy } = Definitions_1.Characters[this.client.player.character].stats;\r\n            this.arena.healthText.innerText = `${health}/${health}`;\r\n            this.arena.armorText.innerText = `${armor}/${armor}`;\r\n            this.arena.energyText.innerText = `${energy}/${energy}`;\r\n        });\r\n    }\r\n    loop() {\r\n        var _a;\r\n        /** Update client's canvas. */\r\n        (_a = this.client.canvas) === null || _a === void 0 ? void 0 : _a.render();\r\n        /** Check if character has changed. */\r\n        let intuition = false;\r\n        const character = Definitions_1.Characters[this.client.player.character];\r\n        if (this.homescreen.characterSelector.characterName.innerText !== character.name) {\r\n            intuition = true;\r\n            this.homescreen.characterSelector.characterName.innerText = character.name;\r\n            /** @ts-ignore */\r\n            this.homescreen.characterSelector.characterSprite.src = `assets/img/characters/gifs/${character.src}`;\r\n        }\r\n        const playerAbility = Definitions_1.Abilities[this.client.player.ability];\r\n        if (this.homescreen.characterSelector.abilityName.innerHTML !== playerAbility.name || intuition) {\r\n            this.homescreen.characterSelector.abilityName.innerHTML = playerAbility.name;\r\n            this.homescreen.characterSelector.abilitySelector.innerHTML = \"\";\r\n            character.abilities.map(ability => Definitions_1.Abilities[ability]).forEach((ability, i) => {\r\n                const image = new Image(50, 50);\r\n                image.src = `assets/img/abilities/${ability.src}`;\r\n                image.classList.add(\"character-ability\");\r\n                if (ability.name === playerAbility.name) {\r\n                    this.homescreen.characterSelector.abilityDesc.innerText = ability.description;\r\n                    image.classList.add(\"selected\");\r\n                }\r\n                image.addEventListener(\"click\", () => {\r\n                    this.client.player.ability = character.abilities[i];\r\n                });\r\n                this.homescreen.characterSelector.abilitySelector.appendChild(image);\r\n            });\r\n        }\r\n        requestAnimationFrame(this.loop.bind(this));\r\n    }\r\n}\r\nexports[\"default\"] = ElementManager;\r\n\n\n//# sourceURL=webpack://valiant.io/./views/client/Rendering/ElementManager.ts?");

/***/ }),

/***/ "./views/client/Utils/Logger.ts":
/*!**************************************!*\
  !*** ./views/client/Utils/Logger.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\n/** A colorful logger to highlight important actions. */\r\nconst Logger = {\r\n    log: (...args) => console.log(`%c[${new Date().toLocaleDateString()}]: ${args.join(\" \")}`, 'color: blue;'),\r\n    err: (...args) => console.log(`%c[${new Date().toLocaleDateString()}]: ${args.join(\" \")}`, 'color: red;'),\r\n    success: (...args) => console.log(`%c[${new Date().toLocaleDateString()}]: ${args.join(\" \")}`, 'color: green;'),\r\n    warn: (...args) => console.log(`%c[${new Date().toLocaleDateString()}]: ${args.join(\" \")}`, 'color: yellow;'),\r\n    debug: (...args) => console.log(args.join(\" \"))\r\n};\r\nexports[\"default\"] = Logger;\r\n\n\n//# sourceURL=webpack://valiant.io/./views/client/Utils/Logger.ts?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	var __webpack_exports__ = __webpack_require__("./views/client/Index.ts");
/******/ 	
/******/ })()
;